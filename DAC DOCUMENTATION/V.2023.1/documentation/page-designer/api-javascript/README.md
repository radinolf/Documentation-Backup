# API Javascript

## Introduction

In the table below you can fin the JavaScript API that are exposed by App Composer and that can be used in the “Execute button” widget, in the “Javascript” widget or even in the context of the Widget Designer.

Per il widget **Javascript** le funzioni sono disponibili selezionando la proprietà `javascript-code`,

In the “**Javascript**” widget the functions can be used in the property `javascript-code`; in the “**Execute Button**” widget they can be used either in the `javascript-code-before` and/or `javascript-code-after` properties.

Functions are grouped by category:

* **Page** : functions that applies on the entire page, in example the XLS export, parameters list or subscriptions to events.
* **Report**: functions that are applied on a specific crosstab or data presentation widget in the page. They allows to export the associated data in different format or to refresh the data. They need the widget `object_id` to be executed.
* **Utilities:** Mixed functions that allows to open dialog, execute redirect etc.ox.

{% hint style="info" %}
The documentation of Javascript API is also availble in Runtime

Main Menu >> Help Online >> Widget Designer Manual
{% endhint %}

<figure><img src="../../../.gitbook/assets/image (1432).png" alt=""><figcaption></figcaption></figure>

### **PAGE**

List of Functions to access page services. The reference to the Page ID can be retrived from Page Designer from the _**object-id**_ property (_**metadataInfo**_, property _Advanced_ folder, _Advanced_ group).

<figure><img src="../../../.gitbook/assets/image (49).png" alt=""><figcaption></figcaption></figure>

| **Function**                                                                  | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Old Function (DEPRECATED)**                                        |
| ----------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| DECISYON.page.exportToExcel(id)                                               | <p>Performs the export of page in excel format. You can export a page other than the one you are connected to.</p><p><strong>Parameters</strong>:</p><p>·        <strong>Id</strong> : ID of page export</p>                                                                                                                                                                                                                                                    | _extMshExportToExcel(id)_                                            |
| DECISYON.page.sendParamChanged(pName,pValue,sourceObjectID)                   | <p>Export the value of a page parameter.</p><p><strong>Parameters</strong>:</p><p>·        <strong>pName</strong>: name of parameter to export.</p><p>·        <strong>pValue</strong>: value of parameter that you want to export.</p><p>·        <strong>sourceObjectID</strong> (optional) the ID of the widget that is currently exporting the parameter, it will be excluded from the refresh.</p>                                                         | _extSendParamChanged(pName, pValue, sourceObjectID)_                 |
| DECISYON.page.sendCheckListParamChanged(pName, pValue, type, checked)         | <p>Export the value of a checklist widget of the page.</p><p><strong>Parameters</strong></p><p>·        <strong>pName:</strong> name of parameter to export.</p><p>·        <strong>pValue:</strong> value of parameter you want to export.</p><p>·        <strong>type:</strong> string (1) or numeric (0)</p><p>·        <strong>checked:</strong> value selected in the checklist.</p>                                                                       | _extSendCheckListParamChanged(pName, pValue, type, checked)_         |
| DECISYON.page.reloadPage()                                                    | Executes the current page                                                                                                                                                                                                                                                                                                                                                                                                                                       | _extReLaunchCurrentMashboard()_                                      |
| DECISYON.page.redirectToPage(id)                                              | <p>Redirect to a page.</p><p><strong>Parameters</strong>:</p><p>·        <strong>id :</strong> page id</p>                                                                                                                                                                                                                                                                                                                                                      | _extRedirectToDsh(id)_                                               |
| DECISYON.page.redirectToPage(id, params)                                      | <p>Redirect to a page sending a set of parameters.</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: Page id</p><p>·        <strong>params</strong>: insert the params list in this format [{“name”:”year”,”value”:2022} {“name”:”month”,”value”:202206}]</p>                                                                                                                                                                              | _extRedirectToDsh(id, params)_                                       |
| DECISYON.page.executeButton(customJsID)                                       | <p>Executes the button action. <strong>Parameters</strong>:</p><p>·        <strong>customJsID:</strong> insert the customJsID of the button widget</p>                                                                                                                                                                                                                                                                                                          | _extExecuteButton(customJsID)_                                       |
| DECISYON.page.refreshObject(customJsID)                                       | <p>Reloads the widget data (supported only by report, Textfield or Text Area).</p><p>Parameters:</p><p>·        <strong>customJsID:</strong> insert the customJsID of the object</p>                                                                                                                                                                                                                                                                            | _extRefreshObject(customJsID)_                                       |
| DECISYON.page.refreshPage()                                                   | Reloads the widget of type report, Textfield and Text Area on the page                                                                                                                                                                                                                                                                                                                                                                                          | _extRefreshMashboardPage()_                                          |
| DECISYON.page.subscribeEvent(event, (payload) => { })                         | <p>Subscribe the page to list to an event that can be sent by external application via REST API. It’s possible to send additional information to the page using the request payload.</p><p><strong>Parameters</strong>:</p><p>·        <strong>event</strong>: name of the event to list</p><p>·        <strong>callback</strong>: a callback function with a playload as parameter.</p>                                                                        | _extSubscribeEvent(event, (payload) => { })_                         |
| DECISYON.page.sendMultiParamsChanged(params, sourceObjectID)                  | <p>Export a list od parameters.</p><p><strong>Parameters</strong>:</p><p>·        <strong>params</strong>: an array of objects that has two properties name and value (required, e.g.[{"name": "Region","value":["Region1","Region2"]},{"name": "Product","value":["Product1","Product2"]}]</p><p>·        <strong>sourceObjectID:</strong> (optiona) th ID of the widget that is currently exporting the parameters, it will be executed from the refresh.</p> | _extSendMultiParamsChanged(params, sourceObjectID)_                  |
| DECISYON.page.addPageParamsChangedListener(function(params, eventDetails){ }) | <p>Allow you to process any changes made to the parameters contained in a page</p><p><strong>Parameters</strong>:</p><p>·        function: function with arguments “params” and “eventDetails”.</p><p>o   <strong>params</strong>: {object} Parameters data;</p><p>o   <strong>eventDetails</strong> :{object} Event Details - {lastChamgeTimestamp:{number}}</p><p><em><strong>Note</strong></em>: The parameter value returned is an array.</p>               | _extAddPageParamsChangedListener(function(params, eventDetails){ })_ |

### REPORT

List of functions to access to report services. The ID of the report can be found in the property `custom-js-id` of a crosstab or datagrid widget.

| **Function**                              | **Description**                                                                                                                                                                                                                                 | **Old Function (DEPRECATED)**  |
| ----------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| DECISYON.report.exportToExcel(id)         | <p>Export the associated report in Excel format.</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to export.</p>                                                | _extExportToExcel(id)_         |
| DECISYON.report.printReport(id)           | <p>Open the “print” dialog of the report</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to be printed.</p>                                                    | _extPrintReport(id)_           |
| DECISYON.report.showPdfExportSettings(id) | <p>Open the dialog to export the associated report in PDF format.</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to export</p>                                | _extShowPdfExportSettings(id)_ |
| DECISYON.report.showCSVExportSettings(id) | <p>Open the dialog to export the associated report in CSVformat.</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to export</p>                                 | _extShowCSVExportSettings(id)_ |
| DECISYON.report.refreshReport(id)         | <p>Execute again the report associated to the widget</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to be updated.</p>                                        | _extRefreshReport(id)_         |
| DECISYON.report.executeReport(id)         | <p>Perform a full execution of the report, included decorated metrics, associated to the widget</p><p><strong>Parameters</strong>;</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to be run.</p> | _extExecuteReport(id)_         |
| DECISYON.report.launchReport(id)          | <p>Open the report in the web report editor</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id of the crosstab widget containing the report to be launcher.</p>                                                | _extLaunchReport(id)_          |
| DECISYON.report.reinitPageBy(id)          | <p>Reset the pageby of the crosstab widget to their initial state</p><p><strong>Parameters</strong>:</p><p>·        <strong>id</strong>: custom-js-id identifier of the crosstab widget.</p>                                                    | _extReinitPageBy(id)_          |

### UTILS

List of functions to access generic utilities services.

| **Function**                                                                                                            | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | **Old Function (DEPRECATED)**                                                                           |
| ----------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| DECISYON.utils.openMessageDialog(message, title, icon, width, height, idDialog)                                         | <p>Opens a dialog box with a text message.</p><p><strong>Parameters</strong>:</p><p>·        <strong>message</strong>: message of the dialog box</p><p>·        <strong>title</strong>: the title of the dialog box</p><p>·        <strong>icon</strong>: a numeric value that defines the type of icon. (Defaul value is 1) Allow values</p><p>o   0 (no icon)</p><p>o   1 (info)</p><p>o   2 (warining)</p><p>o   3 (error)</p><p>o   4 (question)</p><p>·        <strong>width:</strong> width of the dialog box in pixel (default value is 300)</p><p>·        <strong>height:</strong> height of the dialog box in pixel (default value is auto)</p><p>·        <strong>idDialog:</strong> the id of the dialog box ( default is a random value)</p>                                                                                                                                                                                                                                                                 | extDialog(message, title, icon, width, height, idDialog)                                                |
| DECISYON.utils.openConfirmDialog(message, title, onConfirm, onCancel, icon, labelYes, labelNo, width, height, idDialog) | <p>Display a confirmation box.</p><p>·        <strong>message</strong>: message of the dialog box</p><p>·        <strong>title</strong>: the title of the dialog box</p><p>·        <strong>onConfirm:</strong> function with confirm action</p><p>·        <strong>onCancel: function for the cancellation action</strong></p><p>·        <strong>icon:</strong> a numeric value that defines the type of icon. (Defaul value is 1) Allow values</p><p>o   0 (no icon)</p><p>o   1 (info)</p><p>o   2 (warining)</p><p>o   3 (error)</p><p>o   4 (question)</p><p>·        <strong>labelYes:</strong> confirmation button label (default)</p><p>·        <strong>labelNo:</strong> Cancel button label (default no)</p><p>·        <strong>width:</strong> width of the dialog box in pixel (default value is 300)</p><p>·        <strong>height:</strong> height of the dialog box in pixel (default value is auto)</p><p>·        <strong>idDialog:</strong> the id of the dialog box ( default is a random value)</p> | extConfirmDialog(message, title, onConfirm, onCancel, icon, labelYes, labelNo, width, height, idDialog) |
| DECISYON.utils.openDialog(src, title, width, height, resizable, top, left, idDialog)                                    | <p>Opens a non-modal dialog box.</p><p><strong>Parameters</strong>:</p><p>·        <strong>src</strong>: iframe address (required)</p><p>·        <strong>title</strong>: the title of the dialog box</p><p>·        <strong>width</strong>: width of the dialog box in pixel (default value is 300)</p><p>·        <strong>height</strong>: height of the dialog box in pixel (default value is auto)</p><p>·        <strong>resizable</strong>: enables resizing, maximizing and iconizing of the dialog box (default true)</p><p>·        <strong>top</strong>: position from the top in pixel (default center)</p><p>·        <strong>left</strong>: position from the left in pixel ( default center)</p><p>·        <strong>idDialog</strong>: the id of the dialog box ( default is a random value)</p>                                                                                                                                                                                                            | extOpenDialog(src, title, width, height, resizable, top, left, idDialog)                                |
| DECISYON.utils.openPageDialog(dshID, title, width, height, resizable, top, left, idDialog)                              | <p>Opens a Page in a non-modal box.</p><p><strong>Parameters</strong>:</p><p>·        <strong>dshID</strong>: page id (mandatory)</p><p>·        <strong>title</strong>: the title of the dialog box</p><p>·        <strong>width</strong>: width of the dialog box in pixel (default value is 300)</p><p>·        <strong>height</strong>: height of the dialog box in pixel (default value is auto)</p><p>·        <strong>resizable</strong>: enables resizing, maximizing and iconizing of the dialog box (default true)</p><p>·        <strong>top</strong>: position from the top in pixel (default center)</p><p>·        <strong>left</strong>: position from the left in pixel ( default center)</p><p>·        <strong>idDialog</strong>: the id of the dialog box ( default is a random value)</p>                                                                                                                                                                                                             | extOpenDshDialog(dshID, title, width, height, resizable, top, left, idDialog)                           |
| DECISYON.utils.openPageParamDialog(dshID, params, title, width, height, resizable, top, left, idDialog)                 | <p>Opens a page with parameters in a non-modal dialog box.</p><p><strong>Parameters</strong>:</p><p>·        <strong>dshID</strong>: page id (obligatory)</p><p>·        params: json with param list (required , e.g. [{'name':'Region','value':}{'name':'Provincia':'value' ['LT','RM','FR']}])</p><p>·        <strong>title</strong>: the title of the dialog box</p><p>·        <strong>width</strong>: width of the dialog box in pixel (default value is 300)</p><p>·        <strong>height</strong>: height of the dialog box in pixel (default value is auto)</p><p>·        <strong>resizable</strong>: enables resizing, maximizing and iconizing of the dialog box (default true)</p><p>·        <strong>top</strong>: position from the top in pixel (default center)</p><p>·        <strong>left</strong>: position from the left in pixel ( default center)</p><p>·        <strong>idDialog</strong>: the id of the dialog box ( default is a random value)</p>                                             | extOpenDshDialogParam(dshID, params, title, width, height, resizable, top, left, idDialog)              |
| DECISYON.utils.showNotification(notificationTitle, icon, notificationMessage, autoclose, cssClassName)                  | <p>Function that displays the notification box.</p><p>Parameters:</p><p>·        notificationTitle: title of the notification (default: execution label completed)</p><p>·        icon (numeric) type of icon shows. Allowed values:</p><p>o   0 (success)</p><p>o   1 (info)</p><p>o   2 (notice)</p><p>o   3 (error)</p><p>o   Default value is 0</p><p>·        notificationMessage: message detailing the notification (default value: no value)</p><p>·        autoclose: automatic closing of the notification (default: true)</p><p>·        cssClassName: css class for customization (default: no value)</p>                                                                                                                                                                                                                                                                                                                                                                                                     | extShowNotification(notificationTitle, icon, notificationMessage, autoclose, cssClassName)              |
| DECISYON.utils.getDialogWindowOpener()                                                                                  | Allows you to get the window from which you opened the current dialog in drill-through.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | extGetDialogWindowOpener()                                                                              |
| DECISYON.utils.closeCurrentDialog()                                                                                     | Allows you to close the current dialog opened in drill-through.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | extCloseCurrentDialog()                                                                                 |
| DECISYON.utils.createTask(saveCallback, params)                                                                         | <p>Allow you to open a standard dialog box for task creation.</p><p>Parameters:</p><p>·        <strong>saveCallback</strong>: callback function that will be executed after saving the Task and will return the saved object.</p><p>·        <strong>params</strong>: object in which is specifies af the Task to be pre-filled with creation</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <p>Function Updated</p><p>·        DECISYON.utils.createTask()</p>                                      |
| DECISYON.utils.editTask(saveCallback, taskId, application);                                                             | <p>Allow you to open a dialog for edit a task.</p><p>Parameters :</p><p>·        <strong>saveCallback</strong>: callback function that will be executed after saving the Task and which will return the saved object.</p><p>·        <strong>taskId</strong>: Id of the Task to open</p><p>·        <strong>application</strong>: appliation reference to the Task</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                         |
| Decisyon.app.logout()                                                                                                   | Allows you to log out of the application                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | extLogout                                                                                               |

![](file:///C:/Users/sdifranc/AppData/Local/Temp/msohtmlclip1/01/clip_image005.png)
