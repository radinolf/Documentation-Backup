# Change and migration notes of version 2021.3.1



## **Release Train** <a href="#release-train" id="release-train"></a>

Following are the artefacts of this release:

* **Decisyon App Composer for Docker** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.appcomposer-docker:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.appcomposer-docker:2021.3.0)
* **Decisyon App Composer for Kubernetes** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.appcomposer-k8s:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.appcomposer-k8s:2021.3.0)
* **Dumbella Job Executor** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.dumbella:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.dumbella:2021.3.0)
* **Cornelius Configuration Server** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.cornelius:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.cornelius:2021.3.0)
* **Keycloak OIDC Server** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.keycloak:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.keycloak:2021.3.0)
* **Gertrude Flowable Back-end** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.gertrude:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.gertrude:2021.3.0)
* **Flowable Modeler** [decisyon-dac-docker-prod.jfrog.io/com.decisyon.flowable-ui-modeler-app:2021.3.1](http://decisyon-dac-docker-prod.jfrog.io/com.decisyon.flowable-ui-modeler-app:2021.3.0)
* **Decisyon Design Studio** [http://repository.decisyon.com/public/dac-designstudio/release/2021.3.1](http://repository.decisyon.com/public/dac-designstudio/release/2021.3.1)

**Configurable properties**<br>
-------------------------------

Following are the properties that need&#x20;



| **Property**                                            | **Description**                                                                                                                                                                                                                                                                                                                                                       | **Mandatory**                                                                                                                                                                                                             |
| ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **GENERAL SETTINGS**                                    |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| profiles.active                                         | <p>Enables DAC features</p><p><br><br></p>                                                                                                                                                                                                                                                                                                                            | YES: set its value to “prod”. You need to add “cornelius” if you want to use the configuration server or “monitoring” to enable metrics. For example spring.profiles.active=prod,cornelius,monitoring                     |
| appcomposer.discussions.fast-validation.enabled         | Enables fast validation for Discussion                                                                                                                                                                                                                                                                                                                                | NO: defautl value is false                                                                                                                                                                                                |
| **HTTP SETTINGS**                                       |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| server.http2.enabled                                    | Enables http2                                                                                                                                                                                                                                                                                                                                                         | NO: default value is false                                                                                                                                                                                                |
| **METADATA DATASOURC**                                  |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| service.metadata.name                                   | Name of the metadata service                                                                                                                                                                                                                                                                                                                                          | YES: its value must be “metadata”                                                                                                                                                                                         |
| metadata.user                                           | Specify user to use to authenticate to the database                                                                                                                                                                                                                                                                                                                   | YES                                                                                                                                                                                                                       |
| metadata.password                                       | `Password`                                                                                                                                                                                                                                                                                                                                                            | YES                                                                                                                                                                                                                       |
| metadata.database                                       | Database name                                                                                                                                                                                                                                                                                                                                                         | YES                                                                                                                                                                                                                       |
| metadata.schema                                         | Specify name of the schema to use for Postgres                                                                                                                                                                                                                                                                                                                        | This value is mandatory only if use Postgres                                                                                                                                                                              |
| metadata.port                                           | Specify port of the database                                                                                                                                                                                                                                                                                                                                          | `YES`                                                                                                                                                                                                                     |
| metadata.host                                           | Specify hostname of the database                                                                                                                                                                                                                                                                                                                                      | `YES`                                                                                                                                                                                                                     |
| metadata.url                                            | Specify jdbc connection url of the database.                                                                                                                                                                                                                                                                                                                          | `YES`                                                                                                                                                                                                                     |
| metadata.minIdle                                        |                                                                                                                                                                                                                                                                                                                                                                       | NO: default value is 5                                                                                                                                                                                                    |
| metadata.maxPoolSize                                    | Maximum pool size                                                                                                                                                                                                                                                                                                                                                     | NO: default value is 100                                                                                                                                                                                                  |
| metadata.idleTimeout                                    | Maximum idle time for connectio                                                                                                                                                                                                                                                                                                                                       | NO: default value is 300000default value i                                                                                                                                                                                |
| metadata.connectionTimeout                              | Maximum number of milliseconds that a client will wait for a connection                                                                                                                                                                                                                                                                                               | NO: default value is 600000                                                                                                                                                                                               |
| metadata.maxLifeTime                                    | Maximum lifetime in milliseconds of a connection in the pool after it is closed                                                                                                                                                                                                                                                                                       | NO: default value is 600000                                                                                                                                                                                               |
| **SECURITY EXTENSIONS**                                 |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| appcomposer.keycloak.enabled                            | Enables the support for Keycloak                                                                                                                                                                                                                                                                                                                                      | NO: default value is false, set it true if use Keycloak.                                                                                                                                                                  |
| uaa.url                                                 | User Management Endpoint                                                                                                                                                                                                                                                                                                                                              | This value is mandatory if you use Keycloak.                                                                                                                                                                              |
| appcomposer.azure.security.starter.enabled              | Enables support for Azure AD                                                                                                                                                                                                                                                                                                                                          | NO: default value is false, set it true if use Azure AD.                                                                                                                                                                  |
| appcomposer.schneider.security.starter.enabled          | <p>Enables support for Schneider IDMS<br><br></p>                                                                                                                                                                                                                                                                                                                     | NO: default value is false, set it true if use Schenider IDMS                                                                                                                                                             |
| appcomposer.api-gateway.enabled                         | Enables support for Api Gateway                                                                                                                                                                                                                                                                                                                                       | NO: default value is false, set it true if use an Api Gateway                                                                                                                                                             |
| api-gateway.cookie.name                                 |                                                                                                                                                                                                                                                                                                                                                                       | This value is mandatory if you use an Api Gateway.                                                                                                                                                                        |
| **SECURITY**                                            |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| <p>appcomposer.security.debug</p><p> </p>               | Enables UI Toast to show any security alert due to param validation.                                                                                                                                                                                                                                                                                                  | <p>NO: default is false</p><p><br><br></p>                                                                                                                                                                                |
| appcomposer.security.service.token.seed                 | Seed use to create a service token to enable secure communication with the other microservices.                                                                                                                                                                                                                                                                       | YES, in case you use any other DAC’s Microservices (e.g. Dumbella). It's must be a randomly generate 20-chars string.                                                                                                     |
| appcomposer.security.validation.string.big              | Sets the max length for param values validation.                                                                                                                                                                                                                                                                                                                      | NO: default is 10000                                                                                                                                                                                                      |
| **WORKFLOW**                                            |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| appcomposer.workflow.enabled                            | This is mandatory if you use the workflow                                                                                                                                                                                                                                                                                                                             | NO: default value is false, set it to true if use the workflow                                                                                                                                                            |
| flowable.task.url                                       | Gertrude url                                                                                                                                                                                                                                                                                                                                                          | This is mandatory if you use the workflow                                                                                                                                                                                 |
| flowable.task.url                                       | Flowable Modeler url                                                                                                                                                                                                                                                                                                                                                  | This is mandatory if you use the workflow                                                                                                                                                                                 |
| <p><strong>DUMBELLA JOB EXECUTOR</strong></p><p> </p>   |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| appcomposer.dubella.enabled                             | Enables Dumbella                                                                                                                                                                                                                                                                                                                                                      | NO: default value is false, set it to true if use Dumbella                                                                                                                                                                |
| appcomposer.dubella.url                                 | NO: default value is 50000                                                                                                                                                                                                                                                                                                                                            | This is mandatory if you use the Dumbella                                                                                                                                                                                 |
| **NETWORKING SETTINGS**                                 |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| ppcomposer.ws.heart-beat.timeout                        | NO: default value is 50                                                                                                                                                                                                                                                                                                                                               | NO: default value is 50000                                                                                                                                                                                                |
| **THREAD SETTINGS**                                     |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| ppcomposer.ws.heart-beat.timeout                        | NO: default value is 50                                                                                                                                                                                                                                                                                                                                               | NO: default value is 50000                                                                                                                                                                                                |
| **THREAD SETTINGS**                                     |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| appcomposer.task.execution.pool.core-size               |                                                                                                                                                                                                                                                                                                                                                                       | NO: default value is 50                                                                                                                                                                                                   |
| appcomposer.task.execution.pool.max-size                |                                                                                                                                                                                                                                                                                                                                                                       | NO: default value is 50                                                                                                                                                                                                   |
| appcomposer.task.session-content.delay                  | Delay, in millisec, of the session content thread                                                                                                                                                                                                                                                                                                                     | Delay, in millisec, of the session content thread                                                                                                                                                                         |
| **WEB SOCKET SETTINGS**                                 |                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                           |
| appcomposer.ws.reconnect.attempts                       | <p>Numbers of attempts to reconnect on a closing connection.<br><br></p>                                                                                                                                                                                                                                                                                              | NO: default value is 2                                                                                                                                                                                                    |
| appcomposer.ws.reconnect.stomp-attempts                 | Numbers of attempts to reconnect using a brand new connection.                                                                                                                                                                                                                                                                                                        | NO: default value is 1                                                                                                                                                                                                    |
| appcomposer.ws.reconnect.delay                          | Delay, in millisec, between attempts of reconnecting.                                                                                                                                                                                                                                                                                                                 | NO: default value is 2000                                                                                                                                                                                                 |
| appcomposer.ws.heart-beat.client                        | STOMP heart-beat, in millisec                                                                                                                                                                                                                                                                                                                                         | NO: default value is 20000                                                                                                                                                                                                |
| appcomposer.ws.heart-beat.server                        | STOMP heart-beat, in millisec                                                                                                                                                                                                                                                                                                                                         | NO: default value is 20000                                                                                                                                                                                                |
| appcomposer.ws.heart-beat.master.client                 | STOMP heart-beat, in millisec of the main ws connection.                                                                                                                                                                                                                                                                                                              | NO: default value is 20000                                                                                                                                                                                                |
| appcomposer.ws.heart-beat.master.server                 | STOMP heart-beat, in millisec of the main ws connection.                                                                                                                                                                                                                                                                                                              | NO: default value is 2000                                                                                                                                                                                                 |
| appcomposer.ws.ping-pong.timeout                        | Applicative ping/pong timing, in millisec.                                                                                                                                                                                                                                                                                                                            | NO: default value is 25000                                                                                                                                                                                                |
| appcomposer.ws.session-max-idle.timeout                 | Web Socket connection idle timeout, in millisec.                                                                                                                                                                                                                                                                                                                      | NO: default value is 1800000 (30 min, should be equal to the http session timeout)                                                                                                                                        |
| <p><strong>CONTENT SECURITY POLICY</strong></p><p> </p> | <p>Reference: <a href="https://content-security-policy.com/"><img src="https://content-security-policy.com/favicon.ico" alt="">Content-Security-Policy Header ⟶ CSP Reference &#x26; Examples</a></p><p><strong>Warning</strong>: if you need to set your CSP, you must change the directives adding clauses to the default values, without removing any of them.</p> |                                                                                                                                                                                                                           |
| appcomposer.security.csp.script-src                     | <p>CSP's script-src directive</p><p> </p>                                                                                                                                                                                                                                                                                                                             | NO, default value is: _'unsafe-inline' 'unsafe-eval' 'self' ;_                                                                                                                                                            |
| <p>appcomposer.security.csp.img-src</p><p><br><br></p>  | <p>CSP's img-src directive</p><p><br><br></p>                                                                                                                                                                                                                                                                                                                         | NO, default value is: _data:_ [_https://\*.openstreetmap.org_](https://decisyon.atlassian.net/wiki/spaces/~436823021/pages/2330984476/Changes+and+migration+of+version+2021.3.1) _'unsafe-inline' 'unsafe-eval' 'self' ;_ |
| appcomposer.security.csp.font-src                       | CSP's font-src directive                                                                                                                                                                                                                                                                                                                                              | NO, default value is: _data:_ [_https://fonts.gstatic.com/_](https://fonts.gstatic.com/) _'unsafe-inline' 'unsafe-eval' 'self' ;_                                                                                         |
| appcomposer.security.csp.style-src                      | CSP's style-src directive                                                                                                                                                                                                                                                                                                                                             | NO, default value is: _https://fonts.googleapis.com/ https://maxcdn.bootstrapcdn.com https://getbootstrap.com/ 'self' 'unsafe-inline' ;"_                                                                                 |
| appcomposer.security.csp.default-src                    | CSP's default-src directive                                                                                                                                                                                                                                                                                                                                           | NO, default value is: _'self' ;_                                                                                                                                                                                          |
| appcomposer.security.csp.frame-ancestors                | CSP's frame-ancestors directive                                                                                                                                                                                                                                                                                                                                       | NO, default value is: _'self' ;_                                                                                                                                                                                          |
| appcomposer.security.csp.worker-src                     | CSP's worker-src directive                                                                                                                                                                                                                                                                                                                                            | NO, default value is: _blob: ;_                                                                                                                                                                                           |
| appcomposer.security.csp.form-action                    | CSP's form-action directive                                                                                                                                                                                                                                                                                                                                           | NO, default value is: _'self' ;_                                                                                                                                                                                          |
