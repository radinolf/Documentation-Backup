# Service properties

## OPEN ID CONNECT

<table><thead><tr><th width="258">Property</th><th width="221">Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>client.id</td><td>The Client ID registered in the authentication service</td><td>String</td><td>YES</td><td></td></tr><tr><td>client.secret</td><td>The Client secret registered in the authentication service</td><td>String</td><td>YES</td><td></td></tr><tr><td>oc.realm</td><td><p>Name of the realm created in KeyCloak</p><p></p></td><td>String</td><td>YES</td><td></td></tr><tr><td>oc.authorizationEndpoint</td><td>The authorization endpoint. Example:<code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/auth</code></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.tokenEndpoint</td><td><p>The token endpoint. Example: </p><p><code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/token</code></p></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.userInfoEndpoint</td><td><p>The user info endpoint. Example:</p><p><code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/userinfo</code></p></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.loginRedirectUri</td><td><p>The login redirect URI. Example:</p><p><code>&#x3C;dac_url>/index.cas</code></p></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.checkTokenEndpoint</td><td><p>The check token endpoint. Example:</p><p><code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/token/introspect</code></p></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.jwkEndpoint</td><td><p>The JWK endpoint. Example: </p><p><code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/certs</code></p></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.logoutEndpoint</td><td>The logout endpoint. Example: <code>&#x3C;keycloak_url>/auth/realms/${oc.realm}/protocol/openid-connect/logout?redirect_uri=%LOGOUT_REDIRECT_URI%</code><br></td><td>URL</td><td>YES</td><td></td></tr><tr><td>oc.userIdentifierClaim</td><td>The user identifier claim. The value must be <code>sub</code> </td><td><code>sub</code></td><td>YES</td><td></td></tr><tr><td>uaa.url</td><td><p>The base URL of Keycloack service to admin the realm. Example: </p><p><code>&#x3C;keycloak_url>/auth/admin/realms</code></p></td><td></td><td>YES</td><td></td></tr></tbody></table>



## **GENERAL SETTINGS**

<table><thead><tr><th width="205">Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>profiles.active</td><td>Enables DAC features.<br>Set its value to “prod”. You need to add “cornelius” if you want to use the configuration server or “monitoring” to enable metrics. For example <code>spring.profiles.active=prod,cornelius,monitoring</code></td><td>String</td><td>YES</td><td></td></tr><tr><td>appcomposer.discussions.fast-validation.enabled</td><td>Enables fast validation for Discussion</td><td>true | false</td><td>NO</td><td>False</td></tr><tr><td>server.servlet.context-path</td><td>Sets the context path of the web application (e.g. “/dac”)</td><td>string</td><td>NO</td><td>/</td></tr><tr><td>appcomposer.web.url</td><td>Sets the url of the web application. This values overide the workspace’s property <code>decisyonWebUrl</code>. When not set, the value in the workspace property is applied.</td><td>URL</td><td>NO</td><td></td></tr></tbody></table>

## **HTTP SETTINGS**

<table><thead><tr><th width="209">Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>server.http2.enabled</td><td>Enables http2</td><td>true | false</td><td>NO</td><td>False</td></tr></tbody></table>

## **METADATA DATASOURCE**

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>service.metadata.name</td><td>Name of the metadata service. Its value must be “metadata”</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.user</td><td>Specifies the user to login to the database</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.password</td><td>Database user's password</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.database</td><td>Database name</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.schema</td><td>Specifies the database schema</td><td>String</td><td>YES, but only when RDBMS is PostgreSQL</td><td></td></tr><tr><td>metadata.port</td><td>Specifies port of the database</td><td>Integer</td><td>YES</td><td></td></tr><tr><td>metadata.host</td><td>Specifies hostname of the database</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.url</td><td>Specifies jdbc connection url of the database.</td><td>String</td><td>YES</td><td></td></tr><tr><td>metadata.minIdle</td><td>Min number of idle connections</td><td>Integer</td><td>NO</td><td>5</td></tr><tr><td>metadata.maxPoolSize</td><td>Maximum pool size</td><td>Integer</td><td>NO</td><td>100</td></tr><tr><td>metadata.idleTimeout</td><td>Maximum idle time for connection</td><td>Integer</td><td>NO</td><td>30000</td></tr><tr><td>metadata.connectionTimeout</td><td>Maximum number of milliseconds that a client will wait for a connection</td><td>Integer</td><td>NO</td><td>600000</td></tr><tr><td>metadata.maxLifeTime</td><td>Maximum lifetime in milliseconds of a connection in the pool after it is closed</td><td>Integer</td><td>NO </td><td>600000</td></tr><tr><td>metadata.leakDetectionThreshold</td><td>Sets maximum time after which a jdbc connection may be considered unclosed and symptom of a potential leak, in milliseconds. It prints out, on the Decisyon.log file, the stack trace of the thread invoking the connection. default value is 0 (disabled). The value MUSt be greater than 2000.</td><td>Integer</td><td>NO</td><td>0 (disabled)</td></tr></tbody></table>

## **SECURITY EXTENSIONS**

<table><thead><tr><th width="208">Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.keycloak.enabled</td><td>Enables the support for Keycloak. Set it true if use Keycloak.</td><td>true | false</td><td>NO</td><td>False</td></tr><tr><td>uaa.url</td><td>User Management Endpoint</td><td>URL</td><td>YES, only when Keycloak is used.</td><td></td></tr><tr><td>appcomposer.azure.security.starter.enabled</td><td>Enables support for Azure AD. Set it true if use Azure AD.</td><td>true | false</td><td>NO</td><td>false</td></tr><tr><td>appcomposer.schneider.security.starter.enabled</td><td>Enables support for Schneider IDMS. Set it true if use Schenider IDMS</td><td>true | false</td><td>NO</td><td>false</td></tr><tr><td>appcomposer.api-gateway.enabled</td><td>Enables support for Api Gateway. Set it true if use an Api Gateway</td><td>true | false</td><td>NO</td><td>false</td></tr><tr><td>api-gateway.cookie.name</td><td>Name of the cookie holding the id-token</td><td>String</td><td>YES, only if you use tan API gateway</td><td></td></tr><tr><td>api-gateway.url.logout</td><td>Url to hit to logout and invalidate the token.</td><td>URL</td><td>YES, only if you use tan API gateway</td><td></td></tr><tr><td>api-gateway.id-token.uid.claim</td><td>Name of the claim that contains the identifier of the user</td><td>String</td><td>YES, only if you use tan API gateway</td><td></td></tr></tbody></table>

## **SECURITY**

<table><thead><tr><th width="175">Property</th><th>Description</th><th width="100">Type</th><th width="115">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.security.debug</td><td>Enables UI Toast to show any security alert due to param validation.</td><td>true | false</td><td>NO</td><td>False</td></tr><tr><td>appcomposer.security.service.token.seed</td><td>Seed use to create a service token to enable secure communication with the other microservices.  You must set any randomly generate 20-chars string.</td><td>String</td><td>YES, in case you use any other DAC’s Microservices (e.g. Dumbella).</td><td></td></tr><tr><td>appcomposer.security.validation.string.big</td><td>Sets the max length for param values validation.</td><td>Integer</td><td>NO</td><td>10000</td></tr><tr><td>appcomposer.security.sts.max-age-in-days</td><td>The time, in seconds, that the browser should remember that a site is only to be accessed using HTTPS.</td><td>Integer</td><td>NO</td><td>365 days</td></tr><tr><td>appcomposer.security.sts.preload</td><td>When using <code>preload</code>, the <code>max-age</code> directive must be at least <code>31536000</code> (1 year), and the <code>includeSubDomains</code> directive must be present.</td><td>Boolean</td><td>NO</td><td>True</td></tr><tr><td>appcomposer.security.sts.include-sub-domains</td><td>If this optional parameter is specified, this rule applies to all of the site's subdomains as well.</td><td>Boolean</td><td>NO</td><td>True</td></tr></tbody></table>

## **WORKFLOW**

<table><thead><tr><th width="230">Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.workflow.enabled</td><td>This is mandatory if you use the workflow</td><td>true | false</td><td>NO</td><td>False</td></tr><tr><td>flowable.task.url</td><td>Gertrude url</td><td>URL</td><td>YES, only if workflow is enabled</td><td></td></tr><tr><td>flowable.task.url</td><td>Flowable Modeler url</td><td>URL</td><td>YES, only if workflow is enabled</td><td></td></tr></tbody></table>

## **DUMBELLA JOB EXECUTOR**

<table><thead><tr><th>Property</th><th width="206">Description</th><th width="102">Type</th><th width="110">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.dubella.enabled</td><td>Enables Dumbella</td><td>true | false</td><td>NO</td><td>False</td></tr><tr><td>appcomposer.dubella.url</td><td>Dumbella service URL</td><td>URL</td><td>YES, only if Dumbella is enabled</td><td></td></tr></tbody></table>

## **NETWORKING SETTINGS**

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.ws.heart-beat.timeout</td><td></td><td>Integer</td><td>NO</td><td>50000</td></tr></tbody></table>

## **THREAD SETTINGS**

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.task.execution.pool.core-size</td><td></td><td>Integer</td><td>NO</td><td>50</td></tr><tr><td>appcomposer.task.execution.pool.max-size</td><td></td><td>Integer</td><td>NO</td><td>50</td></tr><tr><td>appcomposer.task.session-content.delay</td><td>Delay, in millisec, of the session content thread</td><td>Integer</td><td></td><td></td></tr></tbody></table>

## **WEB SOCKET SETTINGS**

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.ws.reconnect.attempts</td><td>Numbers of attempts to reconnect on a closing connection.</td><td>Integer</td><td>NO</td><td>2</td></tr><tr><td>appcomposer.ws.reconnect.stomp-attempts</td><td>Numbers of attempts to reconnect using a brand new connection.</td><td>Integer</td><td>NO</td><td>1</td></tr><tr><td>appcomposer.ws.reconnect.delay</td><td>Delay, in millisec, between attempts of reconnecting.</td><td>Integer</td><td>NO</td><td>2000</td></tr><tr><td>appcomposer.ws.heart-beat.client</td><td>STOMP heart-beat, in millisec</td><td>Integer</td><td>NO </td><td>20000</td></tr><tr><td>appcomposer.ws.heart-beat.server</td><td>STOMP heart-beat, in millisec</td><td>Integer</td><td>NO</td><td>20000</td></tr><tr><td>appcomposer.ws.heart-beat.master.client</td><td>STOMP heart-beat, in millisec of the main ws connection.</td><td>Integer</td><td>NO </td><td>20000</td></tr><tr><td>appcomposer.ws.heart-beat.master.server</td><td>STOMP heart-beat, in millisec of the main ws connection.</td><td>Integer</td><td>NO</td><td>2000</td></tr><tr><td>appcomposer.ws.ping-pong.timeout</td><td>Applicative ping/pong timing, in millisec.</td><td>Integer</td><td>NO</td><td>25000</td></tr><tr><td>appcomposer.ws.session-max-idle.timeout</td><td>Web Socket connection idle timeout, in millisec.  Should be equal to the http session timeout</td><td>Integer</td><td>NO</td><td>1800000 (30 minutes)</td></tr></tbody></table>

## **CONTENT SECURITY POLICY**

Reference: [https://content-security-policy.com](https://content-security-policy.com)

**Warning**: if you need to set your CSP, you must change the directives adding clauses to the default values, without removing any of them.

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th>Default Value</th></tr></thead><tbody><tr><td>appcomposer.security.csp.script-src</td><td>CSP's script-src directive</td><td>String</td><td>NO</td><td><em>'unsafe-inline' 'unsafe-eval' 'self' ;</em></td></tr><tr><td>appcomposer.security.csp.img-src</td><td>CSP's img-src directive</td><td>String</td><td>NO</td><td><em>data:</em> https://*.openstreetmap.org <em>'unsafe-inline' 'unsafe-eval' 'self' ;</em></td></tr><tr><td>appcomposer.security.csp.font-src</td><td>CSP's font-src directive</td><td>String</td><td>NO</td><td><em>data:</em> https://fonts.gstatic.com/ <em>'unsafe-inline' 'unsafe-eval' 'self' ;</em></td></tr><tr><td>appcomposer.security.csp.style-src</td><td>CSP's style-src directive</td><td>String</td><td>NO</td><td><em>https://fonts.googleapis.com/</em> https://maxcdn.bootstrapcdn.com https://getbootstrap.com/ <em>'self' 'unsafe-inline' ;"</em></td></tr><tr><td>appcomposer.security.csp.default-src</td><td>CSP's default-src directive</td><td>String</td><td>NO </td><td><em>'self' ;</em></td></tr><tr><td>appcomposer.security.csp.frame-ancestors</td><td>CSP's frame-ancestors directive</td><td>String</td><td>NO</td><td><em>'self' ;</em></td></tr><tr><td>appcomposer.security.csp.worker-src</td><td>CSP's worker-src directive</td><td>String</td><td>NO</td><td>blob: 'self' ;</td></tr></tbody></table>

**APP COMPOSER  CLUSTER**

<table><thead><tr><th>Property</th><th>Description</th><th width="100">Type</th><th width="100">Mandatory</th><th width="100">Default Value</th></tr></thead><tbody><tr><td>appcomposer.cluster.leader-election.task-delay</td><td>Leader Check interval rate, timing of the election of a new leader of the DAC cluster, in milliseconds</td><td>Integer</td><td>NO</td><td>30000</td></tr></tbody></table>

## RABBIT MQ

<table><thead><tr><th width="167">Property</th><th>Description</th><th>Type</th><th>Mandatory</th><th>Default value</th></tr></thead><tbody><tr><td>spring.rabbit.host</td><td>RabbitMQ host.</td><td>string</td><td>yes </td><td></td></tr><tr><td>spring.rabbitmq.port </td><td>RabbitMQ port. Ignored if an address is set. </td><td>string</td><td>yes</td><td>Default to 5672, or 5671 if SSL is enabled.</td></tr><tr><td>spring.rabbitmq.username </td><td>Login user to authenticate to the broker.</td><td>string</td><td>yes</td><td></td></tr><tr><td>spring.rabbitmq.password </td><td>Login password to authenticate to the broker</td><td>string</td><td>yes</td><td></td></tr></tbody></table>

